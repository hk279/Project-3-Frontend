{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jerej\\\\Desktop\\\\R0314-MEAN\\\\project-3-frontend\\\\src\\\\components\\\\search.js\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"shards-ui/dist/css/shards.min.css\";\nimport \"../App.css\";\nimport { Button, FormInput, InputGroup } from \"shards-react\";\nimport List from \"./list\";\n\nclass Search extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      query: \"\",\n      filteredData: []\n    };\n    this.clickHandler = this.clickHandler.bind(this);\n    this.getData = this.getData.bind(this);\n  }\n\n  clickHandler() {\n    var searchBox = document.getElementById(\"query\"); //getData needs to wait for the state to be set so it needs to be in a callback.\n\n    this.setState({\n      query: searchBox.value\n    }, () => {\n      var searchWord = this.state.query;\n\n      if (searchWord !== \"\") {\n        this.getData(searchWord);\n      }\n    });\n  }\n\n  getData(query) {\n    console.log(\"getData is run\"); //Workaround to make setState work within the fetch function.\n\n    var that = this;\n    var data = fetch(\"http://localhost:5000/api/getbyname/\" + query).then(response => {\n      return response.json();\n    }).then(responseJSON => {\n      console.log(responseJSON);\n      that.setState({\n        filteredData: responseJSON\n      });\n      return responseJSON;\n    });\n    return data;\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"intro\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 21\n      }\n    }, \"Video Game Sales\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 21\n      }\n    }, \"This CRUD-application was made with React.js.\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 21\n      }\n    }, \"Search, add, edit and delete video game sales data.\"), /*#__PURE__*/React.createElement(\"a\", {\n      href: \"https://www.kaggle.com/gregorut/videogamesales\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 21\n      }\n    }, \"Link to the dataset\")), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"search\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(InputGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(FormInput, {\n      sm: true,\n      id: \"query\",\n      type: \"text\",\n      placeholder: \"Search\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      className: \"button\",\n      onClick: this.clickHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 25\n      }\n    }, \"Search\"), /*#__PURE__*/React.createElement(Link, {\n      to: \"/add\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      className: \"button\",\n      theme: \"success\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 29\n      }\n    }, \"Add\")))), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(List, {\n      data: this.state.filteredData,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }\n    })));\n  }\n\n}\n\nexport default Search;","map":{"version":3,"sources":["C:/Users/jerej/Desktop/R0314-MEAN/project-3-frontend/src/components/search.js"],"names":["React","Link","Button","FormInput","InputGroup","List","Search","Component","constructor","props","state","query","filteredData","clickHandler","bind","getData","searchBox","document","getElementById","setState","value","searchWord","console","log","that","data","fetch","then","response","json","responseJSON","render"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"shards-ui/dist/css/shards.min.css\";\r\nimport \"../App.css\";\r\nimport { Button, FormInput, InputGroup } from \"shards-react\";\r\nimport List from \"./list\";\r\n\r\nclass Search extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            query: \"\",\r\n            filteredData: [],\r\n        };\r\n        this.clickHandler = this.clickHandler.bind(this);\r\n        this.getData = this.getData.bind(this);\r\n    }\r\n    clickHandler() {\r\n        var searchBox = document.getElementById(\"query\");\r\n        //getData needs to wait for the state to be set so it needs to be in a callback.\r\n        this.setState({ query: searchBox.value }, () => {\r\n            var searchWord = this.state.query;\r\n            if (searchWord !== \"\") {\r\n                this.getData(searchWord);\r\n            }\r\n        });\r\n    }\r\n    getData(query) {\r\n        console.log(\"getData is run\");\r\n        //Workaround to make setState work within the fetch function.\r\n        var that = this;\r\n\r\n        var data = fetch(\"http://localhost:5000/api/getbyname/\" + query)\r\n            .then((response) => {\r\n                return response.json();\r\n            })\r\n            .then((responseJSON) => {\r\n                console.log(responseJSON);\r\n                that.setState({ filteredData: responseJSON });\r\n                return responseJSON;\r\n            });\r\n        return data;\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div id=\"intro\">\r\n                    <h2>Video Game Sales</h2>\r\n                    <p>This CRUD-application was made with React.js.</p>\r\n                    <p>Search, add, edit and delete video game sales data.</p>\r\n                    <a href=\"https://www.kaggle.com/gregorut/videogamesales\">Link to the dataset</a>\r\n                </div>\r\n                <div id=\"search\">\r\n                    <InputGroup>\r\n                        <FormInput sm id=\"query\" type=\"text\" placeholder=\"Search\" />\r\n                        <Button className=\"button\" onClick={this.clickHandler}>\r\n                            Search\r\n                        </Button>\r\n                        <Link to=\"/add\">\r\n                            <Button className=\"button\" theme=\"success\">\r\n                                Add\r\n                            </Button>\r\n                        </Link>\r\n                    </InputGroup>\r\n                </div>\r\n                <div>\r\n                    <List data={this.state.filteredData}></List>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Search;\r\n"]},"metadata":{},"sourceType":"module"}